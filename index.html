<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Distriction ‚Äî ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞</title>
  <meta name="description" content="‡¶ü‡¶æ‡¶∞‡ßç‡¶ó‡ßá‡¶ü URL + ‡¶á‡¶Æ‡ßá‡¶ú URL ‚Üí ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶π ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #6C63FF;
      --primary-dark: #5a52d4;
      --secondary: #FF6584;
      --dark: #0F172A;
      --darker: #0A0F1F;
      --light: #F8FAFC;
      --gray: #94A3B8;
      --gray-dark: #475569;
      --success: #10B981;
      --warning: #F59E0B;
      --danger: #EF4444;
      --glass: rgba(255, 255, 255, 0.05);
      --glass-border: rgba(255, 255, 255, 0.1);
      --maxw: 980px;
      --shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      --radius: 12px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', 'Noto Sans Bengali', sans-serif;
      background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
      color: var(--light);
      line-height: 1.6;
      min-height: 100vh;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: var(--maxw);
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 10px;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 20px;
    }

    .logo-text {
      font-size: 28px;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .tagline {
      color: var(--gray);
      font-size: 16px;
      max-width: 600px;
      margin: 0 auto;
    }

    .card {
      background: var(--glass);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius);
      padding: 25px;
      box-shadow: var(--shadow);
      margin-bottom: 30px;
    }

    .card-header {
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .card-icon {
      width: 40px;
      height: 40px;
      background: var(--primary);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card-title {
      font-size: 22px;
      font-weight: 600;
    }

    .form-group {
      margin-bottom: 18px;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      color: var(--gray);
      font-size: 14px;
    }

    .input-field, .textarea-field {
      width: 100%;
      padding: 12px 14px;
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid var(--glass-border);
      border-radius: 8px;
      color: var(--light);
      font-size: 15px;
      transition: var(--transition);
    }

    .input-field:focus, .textarea-field:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);
    }

    .button-group {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    .btn {
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      flex: 1;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: transparent;
      border: 1px solid var(--glass-border);
      color: var(--gray);
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.05);
      border-color: var(--gray);
    }

    .hint {
      font-size: 13px;
      color: var(--gray);
      margin-top: 12px;
      padding: 10px 12px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 6px;
      border-left: 3px solid var(--primary);
    }

    .output-container {
      display: none;
      margin-top: 25px;
    }

    .output-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .output-title i {
      color: var(--primary);
    }

    .generated-link {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--glass-border);
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 15px;
      word-break: break-all;
      font-size: 14px;
    }

    .generated-link a {
      color: var(--primary);
      text-decoration: none;
    }

    .generated-link a:hover {
      text-decoration: underline;
    }

    .action-buttons {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .action-btn {
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      text-decoration: none;
      transition: var(--transition);
    }

    .action-btn.copy {
      background: var(--primary);
      color: white;
      border: none;
    }

    .action-btn.copy:hover {
      background: var(--primary-dark);
    }

    .action-btn.whatsapp {
      background: #25D366;
      color: white;
    }

    .action-btn.facebook {
      background: #1877F2;
      color: white;
    }

    .action-btn.twitter {
      background: #1DA1F2;
      color: white;
    }

    .preview-container {
      display: none;
      margin-top: 25px;
    }

    .preview-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .preview-title i {
      color: var(--primary);
    }

    .preview-card {
      display: flex;
      flex-direction: column;
      background: rgba(0, 0, 0, 0.3);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
    }

    @media (min-width: 768px) {
      .preview-card {
        flex-direction: row;
      }
    }

    .preview-image {
      flex: 0 0 250px;
      max-width: 100%;
    }

    .preview-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .preview-content {
      padding: 20px;
      flex: 1;
    }

    .preview-content h3 {
      font-size: 20px;
      margin-bottom: 8px;
    }

    .preview-content p {
      color: var(--gray);
      margin-bottom: 15px;
      font-size: 14px;
    }

    .preview-button {
      display: inline-block;
      padding: 10px 18px;
      background: var(--primary);
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 600;
      transition: var(--transition);
      font-size: 14px;
    }

    .preview-button:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    .preview-share {
      margin-top: 15px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .warning {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-radius: 6px;
      padding: 12px;
      margin-top: 15px;
      color: var(--danger);
      font-size: 13px;
    }

    .footer {
      text-align: center;
      margin-top: 30px;
      color: var(--gray);
      font-size: 13px;
    }

    .image-preview {
      margin-top: 10px;
      max-width: 200px;
      border-radius: 8px;
      overflow: hidden;
      display: none;
    }

    .image-preview img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Animation for loading state */
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    .loading {
      animation: pulse 1.5s infinite;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .card {
        padding: 20px;
      }
      
      .button-group {
        flex-direction: column;
      }
      
      .preview-card {
        flex-direction: column;
      }
      
      .preview-image {
        flex: 0 0 200px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo">
        <div class="logo-icon">D</div>
        <div class="logo-text">Distriction</div>
      </div>
      <p class="tagline">‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶π ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</p>
    </div>

    <div class="card">
      <div class="card-header">
        <div class="card-icon">
          <i>üîó</i>
        </div>
        <h2 class="card-title">‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
      </div>

      <form id="form">
        <div class="form-group">
          <label for="title">‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ</label>
          <input type="text" id="title" name="title" class="input-field" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" required>
        </div>

        <div class="form-group">
          <label for="desc">‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ</label>
          <textarea id="desc" name="desc" class="textarea-field" rows="2" placeholder="‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá)"></textarea>
        </div>

        <div class="form-group">
          <label for="target">‡¶ü‡¶æ‡¶∞‡ßç‡¶ó‡ßá‡¶ü URL (‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá)</label>
          <input type="url" id="target" name="target" class="input-field" placeholder="https://example.com/your-content" required>
        </div>

        <div class="form-group">
          <label for="imageUrl">‡¶á‡¶Æ‡ßá‡¶ú URL (‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá)</label>
          <input type="url" id="imageUrl" name="imageUrl" class="input-field" placeholder="https://example.com/your-image.jpg" required>
          <div class="image-preview" id="imagePreview">
            <img src="" alt="‡¶á‡¶Æ‡ßá‡¶ú ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â">
          </div>
        </div>

        <div class="button-group">
          <button type="submit" id="generate" class="btn btn-primary">
            <i>üöÄ</i> ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
          </button>
          <button type="button" id="clear" class="btn btn-secondary">
            <i>üóëÔ∏è</i> ‡¶´‡¶∞‡ßç‡¶Æ ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
          </button>
        </div>

        <div class="hint">
          <strong>‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá:</strong> ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∂‡¶∞‡ßç‡¶ü ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§ ‡¶è‡¶á ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ü‡¶ø ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá (‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï, ‡¶ü‡ßÅ‡¶á‡¶ü‡¶æ‡¶∞, ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø) ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶á‡¶Æ‡ßá‡¶ú ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶ü‡¶æ‡¶∞‡ßç‡¶ó‡ßá‡¶ü URL-‡¶è ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§
        </div>
      </form>

      <div id="output" class="output-container">
        <div class="output-title">
          <i>‚úÖ</i> ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!
        </div>
        
        <div class="generated-link">
          <a id="outLink" href="#" target="_blank" rel="noopener"></a>
        </div>
        
        <div class="action-buttons">
          <button id="copyBtn" class="action-btn copy">
            <i>üìã</i> ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
          </button>
          <a id="wa" class="action-btn whatsapp" target="_blank">
            <i>üí¨</i> WhatsApp
          </a>
          <a id="fb" class="action-btn facebook" target="_blank">
            <i>üëç</i> Facebook
          </a>
          <a id="tw" class="action-btn twitter" target="_blank">
            <i>üê¶</i> Twitter
          </a>
        </div>

        <div class="hint" style="margin-top: 15px;">
          <strong>‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶â‡¶™‡¶æ‡¶Ø‡¶º:</strong> ‡¶è‡¶á ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ü‡¶ø ‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï, ‡¶ü‡ßÅ‡¶á‡¶ü‡¶æ‡¶∞ ‡¶¨‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶™‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶¶‡ßá‡¶ñ‡¶¨‡ßá‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶á‡¶Æ‡ßá‡¶ú ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶ü‡¶æ‡¶∞‡ßç‡¶ó‡ßá‡¶ü URL-‡¶è ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§
        </div>
      </div>

      <div class="warning">
        <strong>‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ:</strong> ‡¶Ö‡¶®‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ï‡¶™‡¶ø‡¶∞‡¶æ‡¶á‡¶ü‡¶ï‡ßÉ‡¶§ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶æ ‡¶á‡¶Æ‡ßá‡¶ú ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§ ‡¶è‡¶á ‡¶ü‡ßÅ‡¶≤‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ø‡¶ú‡¶∏‡ßç‡¶¨ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
      </div>
    </div>

    <div class="footer">
      <p>Distriction - ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡¶Ø‡¶º‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞ | ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü-‡¶∏‡¶æ‡¶á‡¶°‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá</p>
    </div>
  </div>

  <script>
    // URL ‡¶∂‡¶∞‡ßç‡¶ü‡ßá‡¶®‡¶ø‡¶Ç ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    async function shortenUrl(longUrl) {
      try {
        // ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶´‡ßç‡¶∞‡¶ø URL ‡¶∂‡¶∞‡ßç‡¶ü‡ßá‡¶®‡¶æ‡¶∞ API ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨
        const response = await fetch(`https://api.shrtco.de/v2/shorten?url=${encodeURIComponent(longUrl)}`);
        const data = await response.json();
        
        if (data.ok) {
          return data.result.full_short_link; // ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡¶¨‡ßá
        } else {
          throw new Error('URL shortening failed');
        }
      } catch (error) {
        console.error('URL shortening error:', error);
        // ‡¶Ø‡¶¶‡¶ø ‡¶∂‡¶∞‡ßç‡¶ü‡ßá‡¶®‡¶ø‡¶Ç ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶°‡ßã‡¶Æ‡ßá‡¶á‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨
        return generateCustomShortUrl(longUrl);
      }
    }
    
    // ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶∂‡¶∞‡ßç‡¶ü URL ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞ (‡¶Ø‡¶¶‡¶ø API ‡¶ï‡¶æ‡¶ú ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá)
    function generateCustomShortUrl(longUrl) {
      // ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∞‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶Æ ID ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü ‡¶ï‡¶∞‡¶¨
      const randomId = Math.random().toString(36).substring(2, 10);
      // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶°‡ßã‡¶Æ‡ßá‡¶á‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶∂‡¶∞‡ßç‡¶ü URL ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶¨
      const baseUrl = window.location.origin + window.location.pathname;
      return `${baseUrl}?id=${randomId}`;
    }
    
    // ‡¶á‡¶Æ‡ßá‡¶ú URL ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶® ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â
    document.getElementById('imageUrl').addEventListener('input', function() {
      const imageUrl = this.value;
      const preview = document.getElementById('imagePreview');
      
      if (imageUrl) {
        // ‡¶á‡¶Æ‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶¨
        const img = new Image();
        img.onload = function() {
          preview.style.display = 'block';
          preview.querySelector('img').src = imageUrl;
        };
        img.onerror = function() {
          preview.style.display = 'none';
        };
        img.src = imageUrl;
      } else {
        preview.style.display = 'none';
      }
    });

    // Main form handling
    const form = document.getElementById('form');
    const output = document.getElementById('output');
    const generateBtn = document.getElementById('generate');
    const clearBtn = document.getElementById('clear');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      generateBtn.disabled = true;
      generateBtn.innerHTML = '<i>‚è≥</i> ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶ï‡¶∞‡¶£ ‡¶ö‡¶≤‡¶õ‡ßá...';
      generateBtn.classList.add('loading');
      
      output.style.display = 'none';

      try {
        const fd = new FormData(form);
        const title = (fd.get('title') || '').trim();
        const desc = (fd.get('desc') || '').trim();
        const target = (fd.get('target') || '').trim();
        const imageUrl = (fd.get('imageUrl') || '').trim();

        if (!title || !target || !imageUrl) {
          alert('‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ, ‡¶ü‡¶æ‡¶∞‡ßç‡¶ó‡ßá‡¶ü URL ‡¶è‡¶¨‡¶Ç ‡¶á‡¶Æ‡ßá‡¶ú URL ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï‡•§');
          generateBtn.disabled = false;
          generateBtn.innerHTML = '<i>üöÄ</i> ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®';
          generateBtn.classList.remove('loading');
          return;
        }

        // ‡¶á‡¶Æ‡ßá‡¶ú URL ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®
        try {
          new URL(imageUrl);
        } catch (e) {
          alert('‡¶á‡¶Æ‡ßá‡¶ú URL ‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡¶Ø‡¶º‡•§');
          generateBtn.disabled = false;
          generateBtn.innerHTML = '<i>üöÄ</i> ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®';
          generateBtn.classList.remove('loading');
          return;
        }

        // OG ‡¶Æ‡ßá‡¶ü‡¶æ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡¶π ‡¶è‡¶ï‡¶ü‡¶ø HTML ‡¶™‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶¨
        const ogHtmlPage = `
<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title}</title>
    <meta name="description" content="${desc}">
    
    <!-- Open Graph ‡¶Æ‡ßá‡¶ü‡¶æ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó -->
    <meta property="og:title" content="${title}">
    <meta property="og:description" content="${desc}">
    <meta property="og:image" content="${imageUrl}">
    <meta property="og:url" content="${target}">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card ‡¶Æ‡ßá‡¶ü‡¶æ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="${title}">
    <meta name="twitter:description" content="${desc}">
    <meta name="twitter:image" content="${imageUrl}">
    
    <script>
        // ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶ü‡¶æ‡¶∞‡ßç‡¶ó‡ßá‡¶ü URL-‡¶è ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶¨
        window.location.href = "${target}";
    <\/script>
</head>
<body>
    <div style="padding: 20px; text-align: center; font-family: Arial, sans-serif;">
        <h1>${title}</h1>
        <p>${desc}</p>
        <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        <p>‡¶Ø‡¶¶‡¶ø ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶®‡¶æ ‡¶π‡¶Ø‡¶º, <a href="${target}">‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</a>‡•§</p>
    </div>
</body>
</html>
        `;

        // HTML ‡¶™‡ßá‡¶ú‡¶ü‡¶ø Base64 ‡¶è ‡¶è‡¶®‡¶ï‡ßã‡¶° ‡¶ï‡¶∞‡¶¨
        const base64Html = btoa(unescape(encodeURIComponent(ogHtmlPage)));
        
        // ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶™‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶¨
        const redirectUrl = window.location.origin + window.location.pathname.replace(/[^/]*$/, '') + 'preview.html?data=' + encodeURIComponent(base64Html);
        
        // URL ‡¶∂‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        generateBtn.innerHTML = '<i>‚è≥</i> ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶∂‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';
        const shortUrl = await shortenUrl(redirectUrl);

        // Update output section
        document.getElementById('outLink').textContent = shortUrl;
        document.getElementById('outLink').href = shortUrl;
        
        // Set up copy button
        document.getElementById('copyBtn').onclick = async () => {
          try {
            await navigator.clipboard.writeText(shortUrl);
            const btn = document.getElementById('copyBtn');
            btn.innerHTML = '<i>‚úÖ</i> ‡¶ï‡¶™‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!';
            setTimeout(() => {
              btn.innerHTML = '<i>üìã</i> ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®';
            }, 2000);
          } catch(e) {
            alert('‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‚Äî ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
          }
        };

        // Set up social sharing
        const text = encodeURIComponent(title + ' ‚Äî ' + (desc || '') + ' ' + shortUrl);
        document.getElementById('wa').href = 'https://wa.me/?text=' + text;
        document.getElementById('fb').href = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(shortUrl);
        document.getElementById('tw').href = 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(title) + '&url=' + encodeURIComponent(shortUrl);

        // Show output
        output.style.display = 'block';

      } catch(err) {
        console.error(err);
        alert('‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ' + err.message);
      } finally {
        generateBtn.disabled = false;
        generateBtn.innerHTML = '<i>üöÄ</i> ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®';
        generateBtn.classList.remove('loading');
      }
    });

    clearBtn.addEventListener('click', () => {
      form.reset();
      output.style.display = 'none';
      document.getElementById('imagePreview').style.display = 'none';
    });
  </script>
</body>
</html>
